<%# ===== カテゴリ切り替えタブ ===== %>
<div class="space-y-4">
  <div class="flex items-center gap-2 text-gray-700 font-medium">
    <span class="material-icons-outlined text-lg">format_list_bulleted</span>
    <h2>カテゴリを選択してください</h2>
  </div>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <%# 技術系カード %>
    <%= link_to profile_availability_slots_path(category: "tech"),
      class: "relative group cursor-pointer",
      data: { action: "click->availability-draft#switch", category: "tech" } do %>
      <% if @category == 'tech' %>
        <div class="absolute -top-2 -right-2 bg-white rounded-full p-0.5 shadow-md z-10">
          <span class="material-icons-outlined text-indigo-600 text-xl bg-indigo-100 rounded-full">check_circle</span>
        </div>
      <% end %>
      <div class="<%= @category == 'tech' ? 'bg-indigo-600 text-white shadow-lg ring-2 ring-indigo-600 ring-offset-2' : 'bg-white border border-gray-200 hover:border-indigo-400 hover:bg-indigo-50' %> rounded-xl p-6 flex flex-col items-center justify-center text-center h-40 transition-all transform hover:scale-[1.01]">
        <span class="material-icons-outlined text-5xl mb-3 <%= @category == 'tech' ? '' : 'text-indigo-600' %>">monitor</span>
        <h3 class="text-xl font-bold mb-1 <%= @category == 'tech' ? '' : 'text-gray-900' %>"><%= Theme.human_enum_name(:category, "tech") %></h3>
        <p class="<%= @category == 'tech' ? 'text-indigo-200' : 'text-gray-500' %> text-sm">技術勉強会向け</p>
      </div>
    <% end %>

    <%# 交流系カード %>
    <%= link_to profile_availability_slots_path(category: "community"),
      class: "cursor-pointer group",
      data: { action: "click->availability-draft#switch", category: "community" } do %>
      <% if @category == 'community' %>
        <div class="absolute -top-2 -right-2 bg-white rounded-full p-0.5 shadow-md z-10">
          <span class="material-icons-outlined text-emerald-600 text-xl bg-emerald-100 rounded-full">check_circle</span>
        </div>
      <% end %>
      <div class="<%= @category == 'community' ? 'bg-emerald-600 text-white shadow-lg ring-2 ring-emerald-600 ring-offset-2' : 'bg-white border border-gray-200 hover:border-emerald-400 hover:bg-emerald-50' %> rounded-xl p-6 flex flex-col items-center justify-center text-center h-40 transition-all">
        <span class="material-icons-outlined text-5xl mb-3 <%= @category == 'community' ? '' : 'text-emerald-600' %>">groups</span>
        <h3 class="text-xl font-bold mb-1 <%= @category == 'community' ? '' : 'text-gray-900 group-hover:text-emerald-600' %>"><%= Theme.human_enum_name(:category, "community") %></h3>
        <p class="<%= @category == 'community' ? 'text-emerald-100' : 'text-gray-500 group-hover:text-emerald-500' %> text-sm">交流イベント向け</p>
      </div>
    <% end %>
  </div>
</div>
