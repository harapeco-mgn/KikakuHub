<div id="<%= dom_id(theme_comment) %>" class="rounded-xl border bg-white p-4">
  <% user = theme_comment.user %>
  <% display_name =
    if user&.respond_to?(:name) && user.name.present?
      user.name
    elsif user&.respond_to?(:email) && user.email.present?
      user.email
    else
      "ユーザー"
    end
  %>

  <div class="flex items-center justify-between gap-3">
    <p class="text-sm font-medium text-gray-900">
      <%= display_name %>
    </p>

    <p class="text-xs text-gray-500">
      <%= l(theme_comment.created_at, format: :short) rescue theme_comment.created_at.strftime("%Y-%m-%d %H:%M") %>
    </p>
  </div>

  <div class="mt-2 text-sm text-gray-800">
    <%= simple_format(h(theme_comment.body)) %>
  </div>
</div>