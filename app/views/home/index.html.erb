<!-- Hero Section -->
<section class="hero min-h-[40vh] rounded-box bg-gradient-to-br from-base-100 to-base-200 shadow-xl">
  <div class="hero-content py-12 text-center">
    <div class="max-w-2xl">
      <div class="badge badge-primary badge-lg mb-4 shadow">企画支援サービス</div>
      <h1 class="text-4xl font-extrabold leading-tight md:text-5xl">
        やりたいテーマを集めて、<br class="hidden md:inline">開催の意思決定を後押し
      </h1>
      <p class="mt-6 text-lg leading-relaxed text-base-content/70">
        参加者の「やりたいテーマ」と「参加表明」を可視化し、<br class="hidden sm:inline">
        イベント開催前の意思決定をサポートします。
      </p>

      <div class="mt-8 flex flex-wrap justify-center gap-3">
        <% if user_signed_in? %>
          <%= link_to profile_availability_slots_path,
                      class: "btn btn-lg bg-sky-500 hover:bg-sky-600 text-white border-none shadow-lg transition-all duration-200 hover:-translate-y-1 hover:shadow-xl" do %>
            <span class="material-icons-outlined text-xl">schedule</span>
            参加可能時間の設定
          <% end %>
        <% end %>

        <%= link_to "テーマ一覧を見る", themes_path,
                    class: "btn btn-lg bg-indigo-600 hover:bg-indigo-700 text-white border-none shadow-lg transition-all duration-200 hover:-translate-y-1 hover:shadow-xl" %>

        <% if user_signed_in? %>
          <%= link_to "テーマを投稿", new_theme_path,
                      class: "btn btn-lg bg-rose-400 hover:bg-rose-500 text-white border-none shadow-lg transition-all duration-200 hover:-translate-y-1 hover:shadow-xl" %>
        <% else %>
          <%= link_to "ログイン", new_user_session_path,
                      class: "btn btn-ghost btn-lg" %>
          <%= link_to "新規登録", new_user_registration_path,
                      class: "btn btn-secondary btn-lg" %>
        <% end %>
      </div>
    </div>
  </div>
</section>

<!-- How It Works Section -->
<section class="mt-12">
  <h2 class="text-2xl font-bold text-center mb-6">
    <span class="text-primary">KikakuHub</span>の使い方
  </h2>
  <div class="grid gap-6 md:grid-cols-4">
    <div class="card bg-base-100 shadow-md ring-1 ring-base-300">
      <div class="card-body items-center text-center">
        <div class="mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-sky-500 text-2xl font-bold text-white shadow-lg">1</div>
        <h3 class="card-title">時間帯を設定</h3>
        <p class="text-sm text-base-content/70">技術系・交流系のカテゴリ別に、参加可能な時間帯を曜日ごとに登録します。</p>
      </div>
    </div>

    <div class="card bg-base-100 shadow-md ring-1 ring-base-300">
      <div class="card-body items-center text-center">
        <div class="mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-primary text-2xl font-bold text-primary-content shadow-lg">2</div>
        <h3 class="card-title">テーマ投稿</h3>
        <p class="text-sm text-base-content/70">カテゴリ・タイトル・概要を投稿して、やりたい企画を提案します。</p>
      </div>
    </div>

    <div class="card bg-base-100 shadow-md ring-1 ring-base-300">
      <div class="card-body items-center text-center">
        <div class="mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-secondary text-2xl font-bold text-secondary-content shadow-lg">3</div>
        <h3 class="card-title">投票・参加表明</h3>
        <p class="text-sm text-base-content/70">気になるテーマに投票し、参加意思を表明して需要を可視化します。</p>
      </div>
    </div>

    <div class="card bg-base-100 shadow-md ring-1 ring-base-300">
      <div class="card-body items-center text-center">
        <div class="mb-3 flex h-14 w-14 items-center justify-center rounded-full bg-accent text-2xl font-bold text-accent-content shadow-lg">4</div>
        <h3 class="card-title">開催判断</h3>
        <p class="text-sm text-base-content/70">需要と参加人数を見て、主催者が開催を決定します。</p>
      </div>
    </div>
  </div>
</section>

<!-- Availability Aggregate Section -->
<section class="mt-12">
  <h2 class="text-2xl font-bold text-center mb-6">
    <span class="text-sky-600">みんなの参加可能時間</span>
  </h2>
  <%= render "availability/aggregate_frame",
      url: request.path,
      counts: @availability_counts,
      cohort: @cohort,
      category: @category,
      cohort_options: @cohort_options
  %>
</section>